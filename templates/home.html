{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="{% static 'styles.css' %}" rel="stylesheet">
    <link rel="icon" type="image" href="{% static 'icono.png' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <script src="https://cdn.datatables.net/plug-ins/1.11.5/i18n/Spanish.json"></script>
    <title>Home</title>
    
        {% csrf_token %}
</head>

<style>
    body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        margin: 0; 
        padding: 0; 
    }

    footer {
        margin-top: 20px;
        background-color: #f8f9fa;
        padding: 10px;
        text-align: center;
    }
    
    #cont-principal {
        padding: 10px;
    }

    #logo {
        margin-bottom: 10px; 
    }
    .btn-cerrar-sesion {
        margin-top: auto; 
    }
            
</style>

<body>
    <div id="cont-principal" class="container">
        <form id="form-cerrar-sesion" action="{% url 'cerrar_sesion' %}" method="post"> 
            {% csrf_token %} 
            <div id="btn-cerrar-sesion-container" class="d-flex justify-content-end mb-4" style="position: relative; top: 80px;"> 
                <button type="submit" class="btn btn-primary btn-cerrar-sesion mb-2">Cerrar Sesión</button>   
            </div> 
        </form>
        
        <img id="logo" src="https://www.andesscd.com.co/wp-content/uploads/2023/02/Firma.gif" alt="andesSCD" width="250" height="180">
        
        <div class="list-group">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end mb-4">
                <a href="{% url 'formulario' %}" class="btn btn-primary me-md-2">Crear Instancia</a>
                <a href="{% url 'instancia' %}" class="btn btn-primary">Ir a Instancia de Prueba</a>
            </div>
            
            <div class="container mt-4">
                <table id="conveniosTable" class="table">
                    <thead> 
                        <tr> 
                            <th>Listado Empresas</th> 
                        </tr> 
                    </thead> 
                    <tbody> 
                        {% for convenio in convenios %} 
                            <tr> 
                                <td><a href="{% url 'detalle_convenio' convenio.nombre %}">{{ convenio.nombre }}</a></td> 
                            </tr> 
                        {% endfor %} 
                    </tbody> 
                </table> 
            </div>
            
            <footer class="mt-4">
                Ac 26 # 69c 03 Torre B Of 701 Edificio Capital Center II <br> Bogotá, Colombia | PBX +601 241 5539 <br> <strong>AndesSCD <em class="bi bi-c-circle"></em></strong> Todos los derechos reservados
            </footer>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <script>  
        $(document).ready(function() {  
            $('#conveniosTable').DataTable({ 
                "language": { 
                    "decimal": "", 
                    "emptyTable": "No hay datos disponibles en la tabla", 
                    "info": "Mostrando _START_ a _END_ de _TOTAL_ entradas", 
                    "infoEmpty": "Mostrando 0 a 0 de 0 entradas", 
                    "infoFiltered": "(filtrado de un total de _MAX_ entradas)", 
                    "infoPostFix": "", 
                    "thousands": ",", 
                    "lengthMenu": "Mostrar _MENU_ entradas", 
                    "loadingRecords": "Cargando...", 
                    "processing": "Procesando...", 
                    "search": "Buscar:", 
                    "zeroRecords": "No se encontraron registros coincidentes", 
                    "paginate": { 
                        "first": "Primero", 
                        "last": "Último", 
                        "next": "Siguiente", 
                        "previous": "Anterior" 
                    }, 
                    "aria": { 
                        "sortAscending": ": Activar para ordenar la columna ascendente", 
                        "sortDescending": ": Activar para ordenar la columna descendente" 
                    } 
                } 
            });  
        });  
    </script>
</body>
</html>
